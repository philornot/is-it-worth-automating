<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IsItWorthAutomating?</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: system-ui, -apple-system, sans-serif;
        transition: all 0.3s ease;
        min-height: 100vh;
      }

      /* Dark theme (default) */
      body {
        background-color: #111827;
        color: #f9fafb;
      }

      /* Light theme */
      body.light-theme {
        background-color: #f9fafb;
        color: #111827;
      }

      .header {
        border-bottom: 1px solid #374151;
        padding: 1rem 1.5rem;
        transition: all 0.3s ease;
      }

      body.light-theme .header {
        border-bottom-color: #e5e7eb;
      }

      .header-content {
        max-width: 80rem;
        margin: 0 auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .header-title {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        font-size: 1.125rem;
        font-weight: 500;
      }

      .theme-toggle {
        padding: 0.5rem;
        background: #1f2937;
        border: 1px solid #4b5563;
        border-radius: 0.375rem;
        color: #d1d5db;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .theme-toggle:hover {
        background: #374151;
        transform: scale(1.05);
      }

      body.light-theme .theme-toggle {
        background: white;
        border-color: #d1d5db;
        color: #4b5563;
      }

      body.light-theme .theme-toggle:hover {
        background: #f9fafb;
      }

      .main-content {
        max-width: 80rem;
        margin: 0 auto;
        padding: 4rem 1.5rem;
      }

      .hero {
        text-align: center;
        margin-bottom: 4rem;
      }

      .hero-title {
        font-size: 2.25rem;
        font-weight: bold;
        margin-bottom: 1rem;
        color: white;
      }

      body.light-theme .hero-title {
        color: #111827;
      }

      .hero-subtitle {
        font-size: 1.125rem;
        max-width: 32rem;
        margin: 0 auto;
        line-height: 1.6;
        color: #9ca3af;
      }

      body.light-theme .hero-subtitle {
        color: #4b5563;
      }

      .calculator-card {
        max-width: 64rem;
        margin: 0 auto;
        background: #1f2937;
        border: 1px solid #374151;
        border-radius: 0.5rem;
        overflow: hidden;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        transition: all 0.3s ease;
      }

      body.light-theme .calculator-card {
        background: white;
        border-color: #e5e7eb;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      }

      .formula-section {
        padding: 1.5rem;
        background: #1f2937;
        border-bottom: 1px solid #374151;
        text-align: center;
      }

      body.light-theme .formula-section {
        background: #f9fafb;
        border-bottom-color: #e5e7eb;
      }

      .formula-title {
        font-size: 1.125rem;
        font-weight: 600;
        margin-bottom: 1rem;
      }

      .formula-text {
        display: inline-block;
        background: #1f2937;
        color: #93c5fd;
        padding: 0.75rem 0.75rem;
        font-family: "Courier New", monospace;
        font-size: 1rem;
        border-radius: 0.25rem;
      }

      body.light-theme .formula-text {
        background: #f3f4f6;
        color: #1d4ed8;
      }

      .grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        min-height: 25rem;
      }

      @media (max-width: 768px) {
        .grid {
          grid-template-columns: 1fr;
        }
      }

      .input-panel {
        padding: 2rem;
        border-right: 1px solid #374151;
        background: #1f2937;
      }

      body.light-theme .input-panel {
        background: white;
        border-right-color: #e5e7eb;
      }

      @media (max-width: 768px) {
        .input-panel {
          border-right: none;
          border-bottom: 1px solid #374151;
        }

        body.light-theme .input-panel {
          border-bottom-color: #e5e7eb;
        }
      }

      .input-title {
        font-size: 1.125rem;
        font-weight: 600;
        margin-bottom: 1.5rem;
      }

      .input-group {
        margin-bottom: 1.5rem;
      }

      .label {
        display: block;
        font-size: 0.875rem;
        font-weight: 500;
        margin-bottom: 0.5rem;
        color: #d1d5db;
      }

      body.light-theme .label {
        color: #374151;
      }

      .input {
        width: 100%;
        padding: 0.75rem 1rem;
        background: #111827;
        border: 1px solid #4b5563;
        border-radius: 0.375rem;
        color: #f9fafb;
        font-size: 1rem;
        transition: all 0.3s ease;
      }

      .input:focus {
        outline: none;
        border-color: #3b82f6;
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
      }

      .input::placeholder {
        color: #6b7280;
      }

      body.light-theme .input {
        background: white;
        border-color: #d1d5db;
        color: #111827;
      }

      body.light-theme .input::placeholder {
        color: #9ca3af;
      }

      .output-panel {
        padding: 2rem;
        background: #1f2937;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      body.light-theme .output-panel {
        background: #f9fafb;
      }

      .result-container {
        text-align: center;
        width: 100%;
      }

      .result-badge {
        display: inline-block;
        padding: 1rem 1.5rem;
        border-radius: 0.5rem;
        margin-bottom: 1.5rem;
        font-size: 1.125rem;
        font-weight: bold;
      }

      .result-badge.worth {
        background: #dcfce7;
        color: #166534;
        border: 1px solid #bbf7d0;
      }

      .result-badge.not-worth {
        background: #fef2f2;
        color: #991b1b;
        border: 1px solid #fecaca;
      }

      .result-details {
        color: #e5e7eb;
      }

      body.light-theme .result-details {
        color: #1f2937;
      }

      .result-title {
        font-size: 1.5rem;
        font-weight: bold;
        margin-bottom: 0.5rem;
      }

      .result-time {
        font-size: 1.875rem;
        font-weight: bold;
        margin-bottom: 0.25rem;
      }

      .result-subtext {
        font-size: 0.875rem;
        color: #9ca3af;
      }

      body.light-theme .result-subtext {
        color: #6b7280;
      }

      .share-button {
        margin-top: 1.5rem;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.5rem 1rem;
        background: #374151;
        border: 1px solid #4b5563;
        border-radius: 0.375rem;
        color: #e5e7eb;
        font-size: 0.875rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
      }

      .share-button:hover {
        background: #4b5563;
        transform: scale(1.05);
      }

      body.light-theme .share-button {
        background: #f3f4f6;
        border-color: #d1d5db;
        color: #374151;
      }

      body.light-theme .share-button:hover {
        background: #e5e7eb;
      }

      .placeholder {
        text-align: center;
        color: #9ca3af;
      }

      body.light-theme .placeholder {
        color: #6b7280;
      }

      .placeholder-icon {
        width: 3rem;
        height: 3rem;
        margin: 0 auto 1rem;
        color: #4b5563;
      }

      body.light-theme .placeholder-icon {
        color: #d1d5db;
      }

      .placeholder-title {
        font-size: 1.125rem;
        font-weight: 500;
        margin-bottom: 0.5rem;
      }

      .placeholder-text {
        font-size: 0.875rem;
      }

      .footer {
        text-align: center;
        margin-top: 4rem;
      }

      .footer-text {
        font-size: 0.875rem;
        margin-bottom: 1rem;
        color: #6b7280;
      }

      body.light-theme .footer-text {
        color: #9ca3af;
      }

      .github-link {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.875rem;
        color: #9ca3af;
        text-decoration: none;
        transition: all 0.3s ease;
      }

      .github-link:hover {
        color: #e5e7eb;
        transform: scale(1.05);
      }

      body.light-theme .github-link {
        color: #6b7280;
      }

      body.light-theme .github-link:hover {
        color: #374151;
      }

      .icon {
        width: 1.25rem;
        height: 1.25rem;
        display: inline-block;
      }

      .icon-sm {
        width: 0.875rem;
        height: 0.875rem;
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <div class="header">
      <div class="header-content">
        <div class="header-title">
          <svg
            class="icon"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect>
            <rect x="9" y="9" width="6" height="6"></rect>
            <path d="m9 1 3 3-3 3"></path>
            <path d="m1 9 3-3 3 3"></path>
            <path d="m23 15-3 3-3-3"></path>
            <path d="m15 23-3-3 3-3"></path>
          </svg>
          <span id="headerTitle">is it worth automating</span>
        </div>
        <button class="theme-toggle" onclick="toggleTheme()">
          <svg
            class="icon icon-moon"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
          </svg>
          <svg
            class="icon icon-sun"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            style="display: none"
          >
            <circle cx="12" cy="12" r="5"></circle>
            <path
              d="M12 1v2m0 18v2M4.22 4.22l1.42 1.42m12.72 12.72 1.42 1.42M1 12h2m18 0h2M4.22 19.78l1.42-1.42m12.72-12.72 1.42-1.42"
            ></path>
          </svg>
        </button>
      </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <!-- Hero Section -->
      <div class="hero">
        <h1 class="hero-title" id="heroTitle">
          is it worth automating this task?
        </h1>
        <p class="hero-subtitle" id="heroSubtitle">
          calculate if building automation will actually save you time in the
          long run
        </p>
      </div>

      <!-- Calculator Card -->
      <div class="calculator-card">
        <!-- Formula Section -->
        <div class="formula-section">
          <h2 class="formula-title" id="formulaTitle">the math</h2>
          <div class="formula-text" id="formulaText">
            automation time ≤ manual time × repetitions
          </div>
        </div>

        <!-- Input/Output Grid -->
        <div class="grid">
          <!-- Left Panel - Inputs -->
          <div class="input-panel">
            <h3 class="input-title" id="inputTitle">your task</h3>

            <div class="input-group">
              <label class="label" for="automationTime" id="automationLabel"
                >time to build automation (minutes)</label
              >
              <input
                type="number"
                id="automationTime"
                class="input"
                min="0"
                step="0.1"
                placeholder="60"
                oninput="calculateResult()"
              />
            </div>

            <div class="input-group">
              <label class="label" for="manualTime" id="manualLabel"
                >time per manual execution (minutes)</label
              >
              <input
                type="number"
                id="manualTime"
                class="input"
                min="0"
                step="0.1"
                placeholder="5"
                oninput="calculateResult()"
              />
            </div>

            <div class="input-group">
              <label class="label" for="repetitions" id="repetitionsLabel"
                >how many times will you do this?</label
              >
              <input
                type="number"
                id="repetitions"
                class="input"
                min="1"
                placeholder="50"
                oninput="calculateResult()"
              />
            </div>
          </div>

          <!-- Right Panel - Results -->
          <div class="output-panel">
            <div class="result-container" id="resultContainer">
              <div class="placeholder">
                <svg
                  class="placeholder-icon"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect>
                  <rect x="9" y="9" width="6" height="6"></rect>
                  <path d="m9 1 3 3-3 3"></path>
                  <path d="m1 9 3-3 3 3"></path>
                  <path d="m23 15-3 3-3-3"></path>
                  <path d="m15 23-3-3 3-3"></path>
                </svg>
                <p class="placeholder-title" id="readyText">
                  ready to calculate
                </p>
                <p class="placeholder-text" id="fillText">
                  fill out the numbers to see if it's worth it
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <div class="footer">
        <p class="footer-text" id="footerText">
          simple math for automation decisions
        </p>
        <a
          href="https://github.com"
          class="github-link"
          target="_blank"
          rel="noopener noreferrer"
        >
          <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
            <path
              d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
            />
          </svg>
          view on github
        </a>
      </div>
    </div>

    <script>
      // Translations
      const translations = {
        en: {
          title: "is it worth automating",
          heroTitle: "is it worth automating this task?",
          heroSubtitle:
            "calculate if building automation will actually save you time in the long run",
          formulaTitle: "the math",
          formula: "automation time ≤ manual time × repetitions",
          inputTitle: "your task",
          automationLabel: "time to build automation (minutes)",
          manualLabel: "time per manual execution (minutes)",
          repetitionsLabel: "how many times will you do this?",
          readyToCalculate: "ready to calculate",
          fillInputs: "fill out the numbers to see if it's worth it",
          share: "share result",
          copied: "copied!",
          worthResult: "worth it",
          notWorthResult: "not worth it",
          timeSaved: "time saved:",
          timeLost: "time wasted:",
          hours: "h ",
          minutes: "min",
          footerText: "simple math for automation decisions",
        },
        pl: {
          title: "is it worth automating",
          heroTitle: "czy warto to zautomatyzować?",
          heroSubtitle:
            "sprawdź czy napisanie automatyzacji rzeczywiście ci się opłaci",
          formulaTitle: "wzór",
          formula: "czas automatyzacji ≤ czas ręczny × powtórzenia",
          inputTitle: "twoje zadanie",
          automationLabel: "czas na napisanie automatyzacji (minuty)",
          manualLabel: "czas jednego ręcznego wykonania (minuty)",
          repetitionsLabel: "ile razy będziesz to robić?",
          readyToCalculate: "gotowe do obliczenia",
          fillInputs: "wpisz liczby żeby sprawdzić czy się opłaca",
          share: "udostępnij wynik",
          copied: "skopiowano!",
          worthResult: "opłaca się",
          notWorthResult: "nie opłaca się",
          timeSaved: "zaoszczędzisz:",
          timeLost: "stracisz:",
          hours: "h ",
          minutes: "min",
          footerText: "prosta matematyka dla decyzji o automatyzacji",
        },
      };

      // Current language and theme
      let currentLanguage = "en";
      let currentTheme = "dark";

      // Initialize
      function init() {
        // Detect language
        const isPoland =
          navigator.language?.startsWith("pl") ||
          Intl.DateTimeFormat().resolvedOptions().timeZone === "Europe/Warsaw";
        currentLanguage = isPoland ? "pl" : "en";

        // Load URL params
        loadUrlParams();

        // Update UI
        updateLanguage();
        calculateResult();
      }

      // Theme toggle
      function toggleTheme() {
        currentTheme = currentTheme === "dark" ? "light" : "dark";

        if (currentTheme === "light") {
          document.body.classList.add("light-theme");
          document.querySelector(".icon-moon").style.display = "none";
          document.querySelector(".icon-sun").style.display = "block";
        } else {
          document.body.classList.remove("light-theme");
          document.querySelector(".icon-moon").style.display = "block";
          document.querySelector(".icon-sun").style.display = "none";
        }
      }

      // Update language
      function updateLanguage() {
        const t = translations[currentLanguage];

        document.getElementById("headerTitle").textContent = t.title;
        document.getElementById("heroTitle").textContent = t.heroTitle;
        document.getElementById("heroSubtitle").textContent = t.heroSubtitle;
        document.getElementById("formulaTitle").textContent = t.formulaTitle;
        document.getElementById("formulaText").textContent = t.formula;
        document.getElementById("inputTitle").textContent = t.inputTitle;
        document.getElementById("automationLabel").textContent =
          t.automationLabel;
        document.getElementById("manualLabel").textContent = t.manualLabel;
        document.getElementById("repetitionsLabel").textContent =
          t.repetitionsLabel;
        document.getElementById("readyText").textContent = t.readyToCalculate;
        document.getElementById("fillText").textContent = t.fillInputs;
        document.getElementById("footerText").textContent = t.footerText;
      }

      // Load URL parameters
      function loadUrlParams() {
        const urlParams = new URLSearchParams(window.location.search);
        const automation = urlParams.get("a");
        const manual = urlParams.get("m");
        const reps = urlParams.get("r");

        if (automation)
          document.getElementById("automationTime").value = automation;
        if (manual) document.getElementById("manualTime").value = manual;
        if (reps) document.getElementById("repetitions").value = reps;
      }

      // Generate share URL
      function generateShareUrl() {
        const automation = document.getElementById("automationTime").value;
        const manual = document.getElementById("manualTime").value;
        const reps = document.getElementById("repetitions").value;

        const params = new URLSearchParams({
          a: automation,
          m: manual,
          r: reps,
        });

        return `${window.location.origin}${
          window.location.pathname
        }?${params.toString()}`;
      }

      // Copy to clipboard
      async function copyToClipboard(text) {
        try {
          if (navigator.clipboard && window.isSecureContext) {
            await navigator.clipboard.writeText(text);
            return true;
          } else {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            textArea.style.position = "fixed";
            textArea.style.left = "-999999px";
            textArea.style.top = "-999999px";
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            const result = document.execCommand("copy");
            document.body.removeChild(textArea);
            return result;
          }
        } catch (err) {
          console.warn("Failed to copy:", err);
          return false;
        }
      }

      // Share result
      async function shareResult() {
        const url = generateShareUrl();
        const success = await copyToClipboard(url);

        if (success) {
          const button = document.querySelector(".share-button");
          const t = translations[currentLanguage];
          const originalText = button.innerHTML;

          button.innerHTML = `
                    <svg class="icon icon-sm" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <polyline points="20,6 9,17 4,12"></polyline>
                    </svg>
                    ${t.copied}
                `;

          setTimeout(() => {
            button.innerHTML = originalText;
          }, 2000);
        }
      }

      // Calculate result
      function calculateResult() {
        const automationTime = parseFloat(
          document.getElementById("automationTime").value
        );
        const manualTime = parseFloat(
          document.getElementById("manualTime").value
        );
        const repetitions = parseInt(
          document.getElementById("repetitions").value
        );

        const container = document.getElementById("resultContainer");

        if (
          !automationTime ||
          !manualTime ||
          !repetitions ||
          automationTime < 0 ||
          manualTime < 0 ||
          repetitions < 1
        ) {
          // Show placeholder
          const t = translations[currentLanguage];
          container.innerHTML = `
                    <div class="placeholder">
                        <svg class="placeholder-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect>
                            <rect x="9" y="9" width="6" height="6"></rect>
                            <path d="m9 1 3 3-3 3"></path>
                            <path d="m1 9 3-3 3 3"></path>
                            <path d="m23 15-3 3-3-3"></path>
                            <path d="m15 23-3-3 3-3"></path>
                        </svg>
                        <p class="placeholder-title">${t.readyToCalculate}</p>
                        <p class="placeholder-text">${t.fillInputs}</p>
                    </div>
                `;
          return;
        }

        const totalManualTime = manualTime * repetitions;
        const timeDifference = Math.abs(totalManualTime - automationTime);
        const isWorth = automationTime <= totalManualTime;

        const hours = Math.floor(timeDifference / 60);
        const minutes = Math.round(timeDifference % 60);

        const t = translations[currentLanguage];

        container.innerHTML = `
                <div class="result-badge ${isWorth ? "worth" : "not-worth"}">
                    ${isWorth ? t.worthResult : t.notWorthResult}
                </div>
                
                <div class="result-details">
                    <div class="result-title">
                        ${isWorth ? t.timeSaved : t.timeLost}
                    </div>
                    <div class="result-time">
                        ${timeDifference.toFixed(1)} ${t.minutes}
                    </div>
                    <div class="result-subtext">
                        (${hours}${t.hours}${minutes}${t.minutes})
                    </div>
                </div>

                <button class="share-button" onclick="shareResult()">
                    <svg class="icon icon-sm" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                    </svg>
                    ${t.share}
                </button>
            `;
      }

      // Initialize when DOM is loaded
      document.addEventListener("DOMContentLoaded", init);

      // Handle Enter key navigation
      document.addEventListener("keydown", function (e) {
        if (e.key === "Enter") {
          const activeElement = document.activeElement;
          if (activeElement.id === "automationTime") {
            document.getElementById("manualTime").focus();
          } else if (activeElement.id === "manualTime") {
            document.getElementById("repetitions").focus();
          }
        }
      });
    </script>
  </body>
</html>
